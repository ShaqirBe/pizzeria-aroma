<%- include('partials/head') %>
<%- include('partials/header') %>

<section class="hero hero-bg">
  <!-- Slideshow Background me fade -->
  <div class="slideshow-background fade-slide" id="slide1"></div>
  <div class="slideshow-background fade-slide" id="slide2"></div>


  <div class="open-badge <%= isOpen ? 'open' : 'closed' %>">
    <% if (isOpen) { %>
      Jetzt geöffnet
    <% } else { %>
      Zurzeit geschlossen
      <% if (nextOpening) { %>
        <small>
          <%= nextOpening.dayOffset === 0
            ? 'Öffnet um ' + nextOpening.time
            : 'Öffnet morgen um ' + nextOpening.time %>
        </small>
      <% } %>
    <% } %>
  </div>
    <div class="hero-overlay">
      <h2>Pizzeria Aroma in Peckelsheim</h2>
      <p>Pizza, Pasta & Salat - Familienbetrieb</p>
  
      <a class="btn" href="tel:+4956443059965">Jetzt anrufen</a>
      <a class="btn secondary"
         href="https://maps.google.com?q=Lützer+Straße+14a+34439+Peckelsheim"
         target="_blank">
        Route anzeigen
      </a>
    </div>
  </section>

  <section class="opening-hours">
    <h3>Öffnungszeiten</h3>
    <div class="hours-grid">
      <div class="day-card">
        <h4>Dienstag – Donnerstag</h4>
        <p><i class="fa-regular fa-clock"></i> 11:00–14:30 <br> <i class="fa-regular fa-clock"></i> 17:00–22:00</p>
      </div>
      <div class="day-card">
        <h4>Freitag</h4>
        <p><i class="fa-regular fa-clock"></i> 11:00–23:00</p>
      </div>
      <div class="day-card">
        <h4>Samstag</h4>
        <p><i class="fa-regular fa-clock"></i> 11:00–23:00</p>
      </div>
      <div class="day-card">
        <h4>Sonntag</h4>
        <p><i class="fa-regular fa-clock"></i> 11:00–22:00</p>
      </div>
      <div class="day-card closed">
        <h4>Montag</h4>
        <p><i class="fa-regular fa-clock"></i> Ruhetag</p>
      </div>
    </div>
  </section>

<%- include('partials/footer') %>

<script>
  const images = <%- imagesJSON %>;

  const slide1 = document.getElementById('slide1');
  const slide2 = document.getElementById('slide2');

  let currentIndex = 0;
  let currentSlide = slide1;
  let nextSlide = slide2;

  // Ngarko foton e parë **menjëherë**
  currentSlide.style.backgroundImage = `url(${images[currentIndex]})`;
  currentSlide.classList.add('show');

  // Nisi slideshow pas 5 sekondave
  function changeSlide() {
    currentIndex = (currentIndex + 1) % images.length;
    nextSlide.style.backgroundImage = `url(${images[currentIndex]})`;
    nextSlide.classList.add('show');
    currentSlide.classList.remove('show');
    [currentSlide, nextSlide] = [nextSlide, currentSlide];
  }

  setInterval(changeSlide, 5000); // çdo 5 sekonda
</script>