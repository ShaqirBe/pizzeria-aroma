<%- include('partials/head') %>
<%- include('partials/header') %>

<main class="page-shell menu-page">
  <section class="menu-page-intro">
    <p class="eyebrow">Unsere Speisekarte</p>
    <h1>Speisekarte - Pizzeria Aroma Peckelsheim</h1>
  </section>

  <div class="menu-tabs">
    <button class="tab-btn active" data-target="pizza">Pizza</button>
    <button class="tab-btn" data-target="pizzas">Pizza Spezial</button>
    <button class="tab-btn" data-target="pizzaex">Pizza Extra</button>
    <button class="tab-btn" data-target="calzone">Calzone</button>
    <button class="tab-btn" data-target="salat">Salat</button>
    <button class="tab-btn" data-target="schnitzel">Schnitzel</button>
    <button class="tab-btn" data-target="beilagen">Beilagen</button>
    <button class="tab-btn" data-target="burger">Burger</button>
    <button class="tab-btn" data-target="kebab">Kebab</button>
    <button class="tab-btn" data-target="nudel">Nudel</button>
    <button class="tab-btn" data-target="drinks">Getränke</button>
    <button class="tab-btn" data-target="bier">Bier</button>
    <button class="tab-btn" data-target="likor">Likör</button>
    <button class="tab-btn" data-target="weine">Weine</button>
    <button class="tab-btn" data-target="warme">Warme Getränke</button>
  </div>

<section class="menu-section tab-content active" id="pizza">
  <h2>Pizza</h2>

  <% menu.pizza.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>
</section>

<section class="menu-section tab-content" id="pizzas">
  <h2>Pizza Spezial</h2>

  <% menu.pizzas.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>

  <p class="menu-note">Anschließend mit Salat, Zwiebeln, Ei und Dressing belegt.</p>

</section>

<section class="menu-section tab-content" id="pizzaex">
  <h2>Pizza Extra</h2>

  <% menu.pizzaex.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>
</section>


<section class="menu-section tab-content" id="calzone">
  <h2>Calzone</h2>

  <% menu.calzone.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>
</section>

<section class="menu-section tab-content" id="salat">
  <h2>Salat</h2>

  <% menu.salat.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>
  <p class="menu-note">Alle Salate inklusive 3 Pizzabrötchen.</p>


</section>

<section class="menu-section tab-content" id="burger">
  <h2>Burger</h2>

  <% menu.burger.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>

  <p class="menu-note">Alle Burger werden mit Pommes frites serviert.</p>

</section>

<section class="menu-section tab-content" id="schnitzel">
  <h2>Schnitzel (Putenfleisch)</h2>

  <% menu.schnitzel.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>


</section>

<section class="menu-section tab-content" id="beilagen">
  <h2>Beilagen</h2>

  <% menu.beilagen.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>


</section>

<section class="menu-section tab-content" id="kebab">
  <h2>Kebab überbacken</h2>

  <% menu.kebab.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>


</section>

<section class="menu-section tab-content" id="nudel">
  <h2>Nudelgerichte</h2>
  <p class="menu-subnote">Spaghetti, Makkaroni oder Tortellini nach Wahl.</p>
  <% menu.nudel.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>
  <p class="menu-note">Alle Nudelgerichte auf Wunsch überbacken (+2,00 EUR).</p>

</section>

<section class="menu-section tab-content" id="drinks">
  <h2>Alkoholfreie Getränke</h2>

  <% menu.drinks.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>
</section>

<section class="menu-section tab-content" id="bier">
  <h2>Bier</h2>

  <% menu.bier.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>
</section>

<section class="menu-section tab-content" id="likor">
  <h2>Liköre & Spirituosen</h2>

  <% menu.likor.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>
</section>

<section class="menu-section tab-content" id="weine">
  <h2>Offene Weine</h2>

  <% menu.weine.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>
</section>


<section class="menu-section tab-content" id="warme">
  <h2>Warme Getränke</h2>

  <% menu.warme.forEach(item => { %>
    <div class="menu-item">

      <div class="menu-header">
        <span class="menu-title">
          <%= item.number %>. <%= item.name %>
        </span>

        <span class="menu-price">
          <%= item.gross_price %>
        </span>
      </div>

      <% if (item.ingredients) { %>
        <div class="menu-ingredients">
          <%= item.ingredients %>
        </div>
      <% } %>

      <% if (item.klein_price) { %>
        <div class="menu-small">
          Klein: <%= item.klein_price %>
        </div>
      <% } %>

      <% if (item.allergens) { %>
        <div class="menu-allergens">
          Allergene: <%= item.allergens %>
        </div>
      <% } %>

    </div>
  <% }) %>
</section>

<section class="allergens">
  <h2>Allergene & Zusatzstoffe</h2>

  <h3>Zusatzstoffe</h3>
  <ul>
    <% allergens.zusatzstoffe.forEach(item => { %>
      <li><strong><%= item.code %></strong> – <%= item.name %></li>
    <% }) %>
  </ul>

  <h3>Allergene</h3>
  <ul>
    <% allergens.allergene.forEach(item => { %>
      <li><strong><%= item.code %></strong> – <%= item.name %></li>
    <% }) %>
  </ul>

  <p class="allergen-hint">
    Alle Preise inkl. MwSt. Änderungen und Irrtümer vorbehalten.
  </p>
</section>


 </main>
<%- include('partials/footer') %>

<script>
  const buttons = document.querySelectorAll(".tab-btn");
  const contents = document.querySelectorAll(".tab-content");

  buttons.forEach(btn => {
    btn.addEventListener("click", () => {
      buttons.forEach(b => b.classList.remove("active"));
      contents.forEach(c => c.classList.remove("active"));

      btn.classList.add("active");
      document.getElementById(btn.dataset.target).classList.add("active");
    });
  });
</script>
